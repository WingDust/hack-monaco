<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
    <link rel="stylesheet" href="./style.css">
    <script src="../node_modules/monaco-editor/min/vs/loader.js"></script>
    <!-- <script src="./app.js"></script> -->
    <!-- <script type="module" src="./app.js"></script> -->
</head>
<body>
  <!-- 
    [Monaco Editor 入门指南](https://zhuanlan.zhihu.com/p/88828576) 
  -->
    <div id="header">基础版 Monaco Editor</div>
    <div id="root"></div>
    <!-- <script type="module" src="./app.js"></script> -->
    <script type="module">
    
    import * as monaco from 'monaco-editor'
    import editorWorker from 'monaco-editor/esm/vs/editor/editor.worker?worker'
    import jsonWorker from 'monaco-editor/esm/vs/language/json/json.worker?worker'
    import cssWorker from 'monaco-editor/esm/vs/language/css/css.worker?worker'
    import htmlWorker from 'monaco-editor/esm/vs/language/html/html.worker?worker'
    import tsWorker from 'monaco-editor/esm/vs/language/typescript/ts.worker?worker'

    self.MonacoEnvironment = {
      getWorker(_, label) {
        if (label === 'json') {
          return new jsonWorker()
        }
        if (label === 'css' || label === 'scss' || label === 'less') {
          return new cssWorker()
        }
        if (label === 'html' || label === 'handlebars' || label === 'razor') {
          return new htmlWorker()
        }
        if (label === 'typescript' || label === 'javascript') {
          return new tsWorker()
        }
        return new editorWorker()
      }
    }

    debugger
      monaco.editor.create(document.getElementById('root'), {
        value: "function hello() {\n\talert('Hello world!');\n}",
        language: 'javascript'
      })
    
    </script>
</body>
</html>